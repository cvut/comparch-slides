\useoutertheme{infolines}

%\usepackage{roboto}
\usepackage{hyperref}
\hypersetup{unicode}
\usepackage[english]{babel}
\usepackage{tikz}
\usetikzlibrary{decorations}
\usepgflibrary{arrows}

\setbeamertemplate{headline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=1.0\paperwidth,ht=2.65ex,dp=1.5ex,left]{section in head/foot}%
    \hspace*{3mm}\usebeamerfont{section in head/foot}\insertsectionhead{}
    \ifx\insertsubsectionhead\@empty
    \else
    » \insertsubsectionhead{}
      \ifx\insertsubsubsectionhead\@empty
      \else
        » \insertsubsubsectionhead{}
      \fi
    \fi
  \end{beamercolorbox}}%
  \vskip0pt%
}

\title{B35APO: Computer Architectures}

\useinnertheme{rectangles}
\usecolortheme{whale}
\usecolortheme{orchid}

\gdef\osyFrameTitle{}

\makeatletter
\addtobeamertemplate{frametitle}{\hypersetup{urlcolor=.}}{\gdef\osyFrameTitle{\beamer@frametitle}}
\makeatother

\definecolor{CVUT}{cmyk}{1.00,0.43,0.00,0.00} 
\definecolor{CVUT2}{cmyk}{0.59,0.17,0.00,0.00} 
\setbeamercolor{structure}{fg=CVUT}
\setbeamercolor{section in head/foot}{bg=CVUT2}
%\setbeamercolor{subsection in head/foot}{parent=palette secondary}
\setbeamertemplate{footline}{%
  \hspace{1em}\tiny{\feedbacklink{\tikz\path[fill=CVUT!50!white,text=white] circle [radius=1ex] node {?};}}
  \hfill%
  \usebeamercolor[fg]{page number in head/foot}%
  \usebeamerfont{page number in head/foot}%
  \setbeamertemplate{page number in head/foot}[totalframenumber]%
  \usebeamertemplate*{page number in head/foot}\kern1em\vskip2pt%
}
\setbeamertemplate{navigation symbols}{}

\usepackage{listings}
\lstset{language=C,columns=fullflexible}

%\author{Petr Štěpán\\ \small\texttt{stepan@fel.cvut.cz}}
\institute{\includegraphics[width=3cm]{logo_cvut_en.pdf}}

\usetikzlibrary{matrix}

\newcommand{\nd}{$^{\text{nd}}$}
\newcommand{\rd}{$^{\text{rd}}$}
\renewcommand{\th}{$^{\text{th}}$}

\AtBeginSection[] % Do nothing for \section*
{
  \begin{frame}<beamer> \frametitle{Outline}
    \tableofcontents[currentsection]
  \end{frame}
}

\AtBeginSubsection[]
{
  \begin{frame}<beamer> \frametitle{Obsah}
    \tableofcontents[currentsection,currentsubsection]
  \end{frame}
}

\usepackage[overlay,absolute]{textpos}
\TPGrid{10}{10}

\usepackage{colortbl}
\ifx\outputdir\undefined
\usepackage{minted}
\else
\usepackage[outputdir=\outputdir]{minted}
\fi

\date{\input{moddate.tex}}

\newcommand\includeanim[2][]{{\def\gfxattrs{#1}\input{anim/#2/overlay}}}

\newcommand\feedbacklink[1]{\href{https://gitlab.fel.cvut.cz/b35apo/apo-slides/-/issues/new?issue[title]=Lecture \jobname, slide \insertframenumber\space(\osyFrameTitle)\&issue[description]=You can report the issue or sugestion there.}{#1}}
